<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MCU Movie Ranking</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 40px; background: #f4f4f4; }
    .choice-button {
      display: inline-block;
      margin: 20px;
      padding: 20px 40px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
    }
    .choice-button:hover {
      background-color: #0056b3;
    }
    #results { margin-top: 40px; }
    h2 { margin-top: 50px; }
  </style>
</head>
<body>
  <h1>Which MCU Movie Would You Rather Watch?</h1>
  <div id="comparison">
    <button class="choice-button" id="option1" onclick="vote(0)"></button>
    <button class="choice-button" id="option2" onclick="vote(1)"></button>
  </div>
  <div id="results"></div>

  <script>
    const movies = [
      "Iron Man", "The Incredible Hulk", "Iron Man 2", "Thor", "Captain America: The First Avenger",
      "The Avengers", "Iron Man 3", "Thor: The Dark World", "Captain America: The Winter Soldier",
      "Guardians of the Galaxy", "Avengers: Age of Ultron", "Ant-Man", "Captain America: Civil War",
      "Doctor Strange", "Guardians of the Galaxy Vol. 2", "Spider-Man: Homecoming", "Thor: Ragnarok",
      "Black Panther", "Avengers: Infinity War", "Ant-Man and the Wasp", "Captain Marvel",
      "Avengers: Endgame", "Spider-Man: Far From Home", "Black Widow",
      "Shang-Chi and the Legend of the Ten Rings", "Eternals", "Spider-Man: No Way Home",
      "Doctor Strange in the Multiverse of Madness", "Thor: Love and Thunder",
      "Black Panther: Wakanda Forever", "Ant-Man and the Wasp: Quantumania",
      "Guardians of the Galaxy Vol. 3", "The Marvels", "Deadpool & Wolverine",
      "Captain America: Brave New World", "Thunderbolts*"
    ];

    let scores = {};
    movies.forEach(m => scores[m] = 1000); // base Elo rating

    function getRandomPair() {
      let a = Math.floor(Math.random() * movies.length);
      let b;
      do {
        b = Math.floor(Math.random() * movies.length);
      } while (b === a);
      return [movies[a], movies[b]];
    }

    let currentPair = getRandomPair();

    function showPair() {
      document.getElementById("option1").innerText = currentPair[0];
      document.getElementById("option2").innerText = currentPair[1];
    }

    function vote(winnerIndex) {
      const winner = currentPair[winnerIndex];
      const loser = currentPair[1 - winnerIndex];
      updateScores(winner, loser);
      currentPair = getRandomPair();
      showPair();
    }

    function updateScores(winner, loser) {
      const k = 32;
      const ratingWinner = scores[winner];
      const ratingLoser = scores[loser];
      const expectedWinner = 1 / (1 + Math.pow(10, (ratingLoser - ratingWinner) / 400));
      const expectedLoser = 1 - expectedWinner;
      scores[winner] = ratingWinner + k * (1 - expectedWinner);
      scores[loser] = ratingLoser + k * (0 - expectedLoser);
    }

    function showResults() {
      const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
      const resultDiv = document.getElementById("results");
      resultDiv.innerHTML = "<h2>Your Ranked MCU List</h2><ol>" +
        sorted.map(entry => `<li>${entry[0]} (${Math.round(entry[1])})</li>`).join('') +
        "</ol>";
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "r") showResults(); // press "r" to view results
    });

    showPair();
  </script>
</body>
</html>
